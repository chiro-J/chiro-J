# 3계층 구조와 CRUD 작동 흐름 조사


## 3-Tier Architecture

> 소프트웨어 애플리케이션을 세 개의 논리적 계층으로 분리하는 아키텍처 패턴

<br>

### 3계층 구조의 구성

1. **프레젠테이션 계층 (Presentation Tier)**
> 사용자 인터페이스를 담당하는 계층으로, 사용자와 직접 상호작용

웹 브라우저, 모바일 앱, 데스크톱 애플리케이션 등이 이에 해당, 사용자의 입력을 받고 결과를 화면에 표시하는 역할.

2. **애플리케이션 계층 (Application/Logic Tier)**
> 비즈니스 로직과 애플리케이션의 핵심 기능을 처리하는 중간 계층

데이터 처리, 계산, 검증, 워크플로우 관리 등의 업무 규칙을 구현하며, 프레젠테이션 계층과 데이터 계층 사이의 중재자 역할.

3. **데이터 계층 (Data Tier)**
> 데이터의 저장, 검색, 관리를 담당하는 계층

데이터베이스 관리 시스템(DBMS)이 주로 이 역할을 하며, 데이터의 무결성과 보안을 유지.

<br>

### 주요 장점

**확장성**: 각 계층을 독립적으로 확장할 수 있어 시스템 성장에 유연하게 대응할 수 있습니다. <br>
트래픽이 증가하면 애플리케이션 서버만 추가하거나, 데이터가 늘어나면 데이터베이스만 업그레이드할 수 있습니다.

**유지보수성**: 계층 간 분리로 인해 한 계층의 변경이 다른 계층에 미치는 영향을 최소화할 수 있습니다. <br>
사용자 인터페이스를 바꾸더라도 비즈니스 로직은 그대로 유지될 수 있습니다.

**재사용성**: 애플리케이션 계층의 비즈니스 로직을 여러 프레젠테이션 계층에서 공유할 수 있습니다. <br>
웹과 모바일 앱이 동일한 백엔드 로직을 사용하는 것이 대표적인 예입니다.

**보안**: 각 계층에서 적절한 보안 조치를 취할 수 있으며, <br> 데이터 계층을 직접 노출하지 않고 애플리케이션 계층을 통해서만 접근하도록 제한할 수 있습니다.

<br>

### 실제 구현 예시
전형적인 웹 애플리케이션에서는 HTML/CSS/JavaScript(프레젠테이션), 웹 서버나 애플리케이션 서버의 백엔드 코드(애플리케이션), MySQL이나 PostgreSQL 같은 데이터베이스(데이터)로 구성됩니다. <br>
엔터프라이즈 환경에서는 브라우저 클라이언트, Java/C# 기반의 미들웨어 서버, Oracle이나 SQL Server 데이터베이스로 구현되는 경우가 많습니다.

<br>

### 고려사항
네트워크 지연이 발생할 수 있으므로 계층 간 통신을 효율적으로 설계해야 하며, <br> 각 계층이 독립적으로 운영되므로 장애 시 전체 시스템에 영향을 줄 수 있어 모니터링과 장애 대응 방안이 중요합니다. <br>
3계층 구조는 현대 소프트웨어 개발에서 가장 널리 사용되는 아키텍처 패턴 중 하나로, <br> 복잡한 애플리케이션을 체계적으로 구성하는 데 매우 유용한 접근 방식입니다.



<br><br><br>



## CRUD 개념과 웹 흐름

> **CRUD**는 데이터베이스와 애플리케이션에서 데이터를 다루는 네 가지 기본 연산을 의미

<br>

### CRUD의 구성 요소

**Create (생성)**

새로운 데이터를 데이터베이스에 추가하는 작업. SQL에서는 INSERT 문을 사용하며, 웹에서는 주로 POST 메서드로 구현. <br> 사용자가 회원가입을 하거나 새 게시글을 작성할 때 이 연산이 실행.

**Read (읽기)**

기존 데이터를 조회하고 검색하는 작업. SQL의 SELECT 문에 해당하며, 웹에서는 GET 메서드를 사용. <br> 게시판 목록을 보거나 특정 상품 정보를 확인할 때 사용되는 가장 빈번한 연산.

**Update (수정)**

기존 데이터를 변경하는 작업. SQL의 UPDATE 문을 사용하며, 웹에서는 PUT 또는 PATCH 메서드로 구현. <br> 사용자가 프로필 정보를 수정하거나 게시글 내용을 편집할 때 실행.

**Delete (삭제)**

기존 데이터를 제거하는 작업. SQL의 DELETE 문에 해당하며, 웹에서는 DELETE 메서드를 사용. <br> 계정 탈퇴나 게시글 삭제 등의 상황에서 사용.

<br>

### 웹에서의 CRUD 흐름

#### 일반적인 웹 요청 처리 과정
사용자가 브라우저에서 특정 작업을 요청하면, 해당 요청이 웹 서버로 전송. <br>
웹 서버는 요청을 분석하여 적절한 컨트롤러나 핸들러에게 전달하고, 비즈니스 로직이 실행되면서 <br>
필요에 따라 데이터베이스에 CRUD 연산을 수행합니다. 처리 결과는 다시 사용자에게 응답으로 반환됩니다.

#### HTTP 메서드와 CRUD 매핑
GET 요청은 데이터 조회(Read)에 사용되며, 브라우저 주소창에 URL을 입력하거나 링크를 클릭할 때 발생. <br>
POST 요청은 새 데이터 생성(Create)에 주로 사용되며, 폼 제출이나 파일 업로드 시 활용됩니다. <br>
PUT/PATCH 요청은 데이터 수정(Update)에, DELETE 요청은 데이터 삭제(Delete)에 사용됩니다.

#### RESTful API 설계
현대 웹 개발에서는 REST 원칙에 따라 URL과 HTTP 메서드를 조합하여 CRUD 연산을 표현. <br>
예를 들어 /users 경로에 GET 요청을 보내면 사용자 목록 조회, POST 요청을 보내면 새 사용자 생성을 의미합니다. 
<br> /users/123에 GET 요청은 특정 사용자 조회, PUT 요청은 해당 사용자 정보 수정, DELETE 요청은 사용자 삭제를 나타냅니다.

<br>

### 실제 구현 예시
게시판 시스템에서 살펴보면, 새 글 작성 시 사용자가 작성 폼을 작성하고 제출하면 POST 요청이 서버로 전송되어 데이터베이스에 새 레코드가 생성됩니다. <br> 
게시글 목록 조회 시에는 GET 요청으로 데이터베이스에서 게시글 목록을 SELECT하여 화면에 표시합니다. 게시글 수정 시에는 기존 내용을 불러온 후 수정된 내용을 PUT/PATCH 요청으로 전송하여 UPDATE 연산을 수행하고, 삭제 시에는 DELETE 요청으로 해당 레코드를 제거합니다. <br>
전자상거래 시스템에서는 상품 등록(Create), 상품 목록 및 상세 정보 조회(Read), 상품 정보 수정(Update), 상품 삭제(Delete)가 모두 CRUD 패턴을 따릅니다.

<br>

### 보안 및 고려사항
CRUD 연산 시에는 사용자 인증과 권한 검증이 필수적입니다. 특히 Create, Update, Delete 연산은 데이터를 변경하므로 적절한 검증과 로깅이 필요하며, SQL 인젝션 같은 보안 취약점을 방지하기 위해 매개변수화된 쿼리나 ORM을 사용해야 합니다. <br>
또한 데이터 무결성을 위해 트랜잭션 처리가 중요하며, 대용량 시스템에서는 읽기와 쓰기 연산의 성능 최적화도 고려해야 합니다. <br>
CRUD는 모든 데이터 중심 애플리케이션의 기초가 되는 개념으로, 웹 개발뿐만 아니라 모바일 앱, 데스크톱 애플리케이션 등 다양한 플랫폼에서 핵심적인 역할을 합니다.
